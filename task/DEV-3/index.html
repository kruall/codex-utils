<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="preload" href="/codex-utils/_next/static/css/70e36fae22199bc0.css" as="style"/><link rel="stylesheet" href="/codex-utils/_next/static/css/70e36fae22199bc0.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/codex-utils/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/codex-utils/_next/static/chunks/webpack-fdd9cf324a434a61.js" defer=""></script><script src="/codex-utils/_next/static/chunks/framework-ee022ac748e499ad.js" defer=""></script><script src="/codex-utils/_next/static/chunks/main-f9b3228253b44f84.js" defer=""></script><script src="/codex-utils/_next/static/chunks/pages/_app-957ce83dfe0596b8.js" defer=""></script><script src="/codex-utils/_next/static/chunks/664-66ac2e18a1f9f14c.js" defer=""></script><script src="/codex-utils/_next/static/chunks/pages/task/%5Bid%5D-633037646946a68f.js" defer=""></script><script src="/codex-utils/_next/static/ehNrtXYRfeU_mUX6INw70/_buildManifest.js" defer=""></script><script src="/codex-utils/_next/static/ehNrtXYRfeU_mUX6INw70/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="Page_container__y75Pi"><nav class="Navigation_nav__NZulV"><div class="Navigation_links__Q6o2d"><a class="Navigation_link__JUJnE" href="/codex-utils/">üè† Home</a><a class="Navigation_link__JUJnE" href="/codex-utils/table/">üìã Task List</a><a class="Navigation_link__JUJnE" href="/codex-utils/login/">üîë Login</a></div></nav><h1>DEV-3</h1><div class="Page_marginBottom__n9BKt"><label>Title:<input class="Page_inline__RHo2K" value="Add CI check for PR task status validation"/></label></div><div class="Page_marginBottom__n9BKt"><label>Status:<select class="Page_inline__RHo2K"><option value="todo">todo</option><option value="in_progress">in_progress</option><option value="done" selected="">done</option></select></label></div><button class="Page_marginBottomLarge__SfdTa">Save</button><h2>Description</h2><p>Implement CI workflow to verify that PRs with [&lt;task-id&gt;] format in title have corresponding tasks that were &#x27;todo&#x27; or &#x27;in_progress&#x27; before PR creation and become &#x27;done&#x27; after PR merge. This ensures proper task workflow compliance.</p><h2>Comments</h2><ul><li>Implementation requirements: 1) Parse PR title to extract task-id using regex pattern \[([^\]]+)\], 2) Check task status before PR creation (should be &#x27;todo&#x27; or &#x27;in_progress&#x27;), 3) Verify task status after PR merge (should be &#x27;done&#x27;), 4) Fail CI if task workflow is not followed properly</li><li>GitHub Actions workflow structure: 1) .github/workflows/pr-task-check.yml - trigger on PR open/merge, 2) Script to validate task status using ./tm commands, 3) Check task exists and was started before work began, 4) Ensure task is marked done when PR is merged</li><li>Error scenarios to handle: 1) PR title has [task-id] but task doesn&#x27;t exist, 2) Task was never started (status still &#x27;todo&#x27;), 3) Task was already &#x27;done&#x27; before PR creation, 4) Task not marked &#x27;done&#x27; after PR merge, 5) Invalid task-id format in PR title</li><li>Technical approach: 1) Use GitHub API to get PR details and timeline, 2) Parse .tasks/ directory to check task status history, 3) Compare timestamps: task start time &lt; PR creation time &lt; PR merge time &lt; task done time, 4) Exit with error code if validation fails</li><li>Example PR titles to validate: &#x27;[DEV-1] Add user authentication&#x27;, &#x27;[DOC-5] Update API documentation&#x27;, &#x27;[FEATURE-123] Implement search functionality&#x27;. Should extract task-ids: DEV-1, DOC-5, FEATURE-123 respectively.</li><li>Starting implementation of CI workflow to validate task status</li><li>Added workflow and script to check PR task status; fixed tests.yml</li></ul><h2>Links</h2><ul></ul></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"task":{"id":"DEV-3","title":"Add CI check for PR task status validation","description":"Implement CI workflow to verify that PRs with [\u003ctask-id\u003e] format in title have corresponding tasks that were 'todo' or 'in_progress' before PR creation and become 'done' after PR merge. This ensures proper task workflow compliance.","status":"done","comments":[{"id":1,"text":"Implementation requirements: 1) Parse PR title to extract task-id using regex pattern \\[([^\\]]+)\\], 2) Check task status before PR creation (should be 'todo' or 'in_progress'), 3) Verify task status after PR merge (should be 'done'), 4) Fail CI if task workflow is not followed properly","created_at":1748516023.6185799},{"id":2,"text":"GitHub Actions workflow structure: 1) .github/workflows/pr-task-check.yml - trigger on PR open/merge, 2) Script to validate task status using ./tm commands, 3) Check task exists and was started before work began, 4) Ensure task is marked done when PR is merged","created_at":1748516028.558944},{"id":3,"text":"Error scenarios to handle: 1) PR title has [task-id] but task doesn't exist, 2) Task was never started (status still 'todo'), 3) Task was already 'done' before PR creation, 4) Task not marked 'done' after PR merge, 5) Invalid task-id format in PR title","created_at":1748516033.251381},{"id":4,"text":"Technical approach: 1) Use GitHub API to get PR details and timeline, 2) Parse .tasks/ directory to check task status history, 3) Compare timestamps: task start time \u003c PR creation time \u003c PR merge time \u003c task done time, 4) Exit with error code if validation fails","created_at":1748516038.058034},{"id":5,"text":"Example PR titles to validate: '[DEV-1] Add user authentication', '[DOC-5] Update API documentation', '[FEATURE-123] Implement search functionality'. Should extract task-ids: DEV-1, DOC-5, FEATURE-123 respectively.","created_at":1748516043.4902668},{"id":6,"text":"Starting implementation of CI workflow to validate task status","created_at":1748516238.5826151},{"id":7,"text":"Added workflow and script to check PR task status; fixed tests.yml","created_at":1748516311.7427182}],"created_at":1748516017.53114,"updated_at":1748524451.91905}},"__N_SSG":true},"page":"/task/[id]","query":{"id":"DEV-3"},"buildId":"ehNrtXYRfeU_mUX6INw70","assetPrefix":"/codex-utils","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>